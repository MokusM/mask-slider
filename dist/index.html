<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="format-detection" content="telephone=no">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, maximum-scale=1">
	<title>Главная</title>
	<meta name='description' content="" />
	<meta name="keywords" content="" />
	<link rel="icon" type="image/x-icon" href="favicon.ico" />
	<link rel="stylesheet" type="text/css" href="css/style.css" />	
</head>
<body class="loaded">

							
<!-- BEGIN BODY -->

<div class="main-wrapper">

<!-- BEGIN CONTENT -->

	<main class="content">		
		<div class="wrapper">				
				<h2>Маска на css</h2>
				<div class="csscanvas">
					<div class="img img_1 hide" style="background-image: url('img/1.jpeg');"></div>
					<div class="img img_2" style="background-image: url('img/2.jpg');"></div>
				</div>
				<h2>Маска на canvas</h2>
				<canvas id="supercanvas" width="800px" height="600px" style="background-image: url('img/1.jpeg');"></canvas>
				<script>
					var canvas = document.getElementById('supercanvas');
					var ctx = canvas.getContext('2d');
					var img = new Image();
					var mask = new Image();
					img.src = 'img/2.jpg';
					mask.src = 'img/nature-sprite.png';
					var i=0;
					function draw() {
						i++;
						ctx.clearRect(0,0,800,600);
						ctx.drawImage(mask,-800*i,0,800*23,600);						
						ctx.globalCompositeOperation = "source-in"; 
						ctx.drawImage(img,0,0,800,600);
						ctx.globalCompositeOperation = "source-over";
						//window.requestAnimationFrame(draw);
						setTimeout(draw,100);
					}
					draw();
				</script>
		</div>		
	</main>	
			
<!-- CONTENT EOF   -->

<!-- BEGIN HEADER -->

	<header>		
		<div class="wrapper">

		</div>		
	</header>
	
<!-- HEADER EOF   -->	

<!-- BEGIN FOOTER -->	
	
	<footer>
		<div class="wrapper">
			
		</div>	
	</footer>
	
<!-- FOOTER EOF   -->

</div>		

<div class="icon-load"></div>		

<!-- BODY EOF   -->
	
	<script src="js/jquery-3.0.0.min.js"></script>		
	<script src="js/jquery-migrate-1.4.1.min.js" ></script>
	<!--
	<script src="js/components/jquery.fancybox.js" ></script>
	<script src="js/components/jquery.formstyler.js" ></script>
	<script src="js/components/slick.js" ></script>
	<script src="js/components/jquery.mCustomScrollbar.js" ></script>
	-->
	<script src="js/custom.js" ></script>
</body>
</html>
